<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>HueFlow - Digital</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="global-back" class="back-btn">←</div>

    <!-- HOME / FREE PLAY -->
    <div id="screen-home" class="screen">
      <h1 class="game-name-ui" onclick="window.location.hash = '#/'">
        HUEFLOW
        <div class="sub-digital">Digital</div>
      </h1>
      <div class="subtitle-ui">FREE PLAY</div>
      <div class="vessel">
        <div class="canvas">
          <div class="box box-t" id="free-target"></div>
          <div class="box" id="free-player"></div>
        </div>
        <div class="match-score" id="free-match">0%</div>
        <div class="accuracy-label">Recipe Accuracy</div>
        <div class="progress-area">
          <div class="progress-text">
            <span id="free-ink-text">0/0 Drops</span>
            <span id="free-try-text">Undo 0</span>
          </div>
          <div class="bar-bg action-bar-wrapper">
            <div id="free-action-container" class="fill-container"></div>
          </div>
          <div class="bar-bg result-bar-wrapper">
            <div id="free-result-container" class="fill-container"></div>
          </div>
        </div>

        <div class="status-area">
          <div class="res-row">
            <div id="free-res-text" class="res-text"></div>
            <span id="free-stars-span" class="stars-span"></span>
          </div>
          <div id="free-solve-link">
            <button class="action-btn" onclick="solveGame()">Solve</button>
          </div>
        </div>

        <div class="controls">
          <button class="mix-btn r-t" id="free-btn-r" onclick="mix('r')">
            <span class="btn-n">RED</span
            ><span id="free-c-r" class="btn-v">0</span>
          </button>
          <button class="mix-btn g-t" id="free-btn-g" onclick="mix('g')">
            <span class="btn-n">GREEN</span
            ><span id="free-c-g" class="btn-v">0</span>
          </button>
          <button class="mix-btn b-t" id="free-btn-b" onclick="mix('b')">
            <span class="btn-n">BLUE</span
            ><span id="free-c-b" class="btn-v">0</span>
          </button>
        </div>
        <div class="game-footer">
          <button class="action-btn" onclick="resetVial(true)">New</button>
          <button class="action-btn" onclick="resetVial(false)">Reset</button>
          <button class="action-btn" onclick="undo()">Undo</button>
        </div>
      </div>
      <button id="daily-nav-btn" class="nav-btn" onclick="handleDailyNav()">
        Daily Challenge
      </button>
      <button class="nav-btn" onclick="window.location.hash = '#/journey'">
        Journey
      </button>

      <div class="home-nav-grid">
        <button class="nav-btn" onclick="window.location.hash = '#/free'">
          Free Play
        </button>

        <button class="nav-btn" onclick="window.location.hash = '#/collection'">
          Collection
        </button>
        <button class="nav-btn" onclick="shareGame()">Share</button>
        <button class="nav-btn" onclick="window.location.hash = '#/tutorial'">
          How to Play
        </button>
      </div>
    </div>

    <!-- JOURNEY GRID -->
    <div id="screen-journey" class="screen">
      <h1 class="game-name-ui" onclick="window.location.hash = '#/'">
        HUEFLOW
        <div class="sub-digital">Digital</div>
      </h1>
      <div class="subtitle-ui">JOURNEY</div>
      <div id="journey-content"></div>
    </div>

    <!-- DAILY CALENDAR -->
    <div id="screen-daily" class="screen">
      <h1 class="game-name-ui" onclick="window.location.hash = '#/'">
        HUEFLOW
        <div class="sub-digital">Digital</div>
      </h1>
      <div class="subtitle-ui">DAILY CHALLENGE</div>
      <div class="calendar-nav">
        <button class="action-btn" onclick="changeMonth(-1)">←</button>
        <div id="calendar-month">MONTH</div>
        <button class="action-btn" onclick="changeMonth(1)">→</button>
      </div>
      <div id="calendar-ui" class="calendar-grid"></div>
    </div>

    <!-- GAME SCREEN -->
    <div id="screen-game" class="screen">
      <h1 class="game-name-ui" onclick="window.location.hash = '#/'">
        HUEFLOW
        <div class="sub-digital">Digital</div>
      </h1>
      <div class="subtitle-ui">MODE</div>
      <div id="game-color-name" class="res-color-name"></div>

      <div class="vessel">
        <div class="canvas">
          <div class="box box-t" id="game-target"></div>
          <div class="box" id="game-player"></div>
        </div>
        <div class="match-score" id="game-match">0%</div>
        <div class="accuracy-label">Recipe Accuracy</div>
        <div class="progress-area">
          <div class="progress-text">
            <span id="game-ink-text">0/0 Drops</span>
            <span id="game-try-text">Undo 0</span>
          </div>
          <div class="bar-bg action-bar-wrapper">
            <div id="game-action-container" class="fill-container"></div>
          </div>
          <div class="bar-bg result-bar-wrapper">
            <div id="game-result-container" class="fill-container"></div>
          </div>
        </div>

        <div class="status-area">
          <div class="res-row">
            <div id="game-res-text" class="res-text"></div>
            <div id="game-stars-span" class="stars-span"></div>
          </div>
          <div id="game-solve-link">
            <button class="action-btn" onclick="solveGame()">Solve</button>
          </div>
        </div>

        <div class="controls">
          <button class="mix-btn r-t" onclick="mix('r')">
            <span class="btn-n">RED</span
            ><span id="game-c-r" class="btn-v">0</span>
          </button>
          <button class="mix-btn g-t" onclick="mix('g')">
            <span class="btn-n">GREEN</span
            ><span id="game-c-g" class="btn-v">0</span>
          </button>
          <button class="mix-btn b-t" onclick="mix('b')">
            <span class="btn-n">BLUE</span
            ><span id="game-c-b" class="btn-v">0</span>
          </button>
        </div>
        <div class="game-footer" id="game-footer-ui"></div>
      </div>
      <button id="game-daily-btn" class="nav-btn" onclick="handleDailyNav()">
        Daily Challenge
      </button>

      <button class="nav-btn" onclick="window.location.hash = '#/journey'">
        Journey
      </button>


      <div class="home-nav-grid">
              <button class="nav-btn" onclick="window.location.hash = '#/free'">
        Free Play
      </button>
        <button class="nav-btn" onclick="window.location.hash = '#/collection'">
          Collection
        </button>
        <button class="nav-btn" onclick="shareGame()">Share</button>
              <button class="nav-btn" onclick="window.location.hash = '#/tutorial'">
        How to Play
      </button>
      </div>

    </div>

    <!-- COLLECTION SCREEN -->
    <div id="screen-collection" class="screen">
      <h1 class="game-name-ui" onclick="window.location.hash = '#/'">
        HUEFLOW
        <div class="sub-digital">Digital</div>
      </h1>
      <div class="subtitle-ui" id="collection-stats">COLLECTED: 0</div>
      <div class="calendar-nav" style="gap: 10px; margin-bottom: 20px">
        <button class="action-btn" onclick="renderCollection('hue')">
          Hue
        </button>
        <button class="action-btn" onclick="renderCollection('drops')">
          Drops
        </button>
        <button class="action-btn" onclick="renderCollection('date')">
          Date
        </button>
      </div>
      <div id="collection-grid" class="level-grid"></div>
    </div>
    <!-- tutorial SCREEN -->
    <div id="screen-tutorial" class="screen">
      <h1 class="game-name-ui" onclick="window.location.hash = '#/'">
        HUEFLOW
        <div class="sub-digital">Digital</div>
      </h1>
      <div class="subtitle-ui" id="tutorial-stats">How to play</div>
      <div id="tutorial-grid" class="level-grid"></div>
    </div>
    <!-- TUTORIAL MODAL -->
    <div id="tutorial-modal" class="modal-overlay">
      <div class="modal-content">
        <div id="slides-container">
          <!-- Slide 1 -->
          <div class="tutorial-slide active">
            <h3 style="letter-spacing: 2px">THE GOAL</h3>
            <p style="font-size: 0.8rem; color: #aaa">
              Recreate the top color by adding drops of light to your vial.
            </p>
            <div class="canvas" style="height: 200px; margin: 20px 0">
              <div class="box" style="background: #ffff00; flex: 1"></div>
              <div class="box" style="background: #000; flex: 1"></div>
            </div>
          </div>
          <!-- Slide 2 -->
          <div class="tutorial-slide">
            <h3 style="letter-spacing: 2px">THE PHYSICS</h3>
            <p style="font-size: 0.8rem; color: #aaa">
              Mixing light is additive.
            </p>
            <div class="equation">
              <div class="dot red"></div>
              +
              <div class="dot green"></div>
              =
              <div class="dot yellow"></div>
            </div>
            <div class="equation">
              <div class="dot green"></div>
              +
              <div class="dot blue"></div>
              =
              <div class="dot cyan"></div>
            </div>
            <div class="equation">
              <div class="dot red"></div>
              +
              <div class="dot blue"></div>
              =
              <div class="dot magenta"></div>
            </div>
            <div class="equation">
              <div class="dot red"></div>
              +
              <div class="dot green"></div>
              +
              <div class="dot blue"></div>
              =
              <div class="dot white"></div>
            </div>
          </div>
          <!-- Slide 3 -->
          <div class="tutorial-slide">
            <h3 style="letter-spacing: 2px">THE TOOLS</h3>
            <p style="font-size: 0.8rem; color: #aaa">
              Use <b>Undo</b> to step back. Reach 100% accuracy to unlock the
              next level.
            </p>
            <button
              class="mix-btn r-t"
              style="
                pointer-events: none;
                margin: 10px 0;
                width: 85px;
                height: 53px;
              "
            >
              <div style="color: #888">RED</div>
              <span class="btn-v">5</span>
            </button>
            <p style="font-size: 0.6rem; color: #555">
              (Counters show your drops)
            </p>
          </div>
        </div>
        <button
          class="nav-btn"
          id="tutorial-btn"
          onclick="advanceTutorial()"
          style="width: 100%; margin-top: 20px"
        >
          Next
        </button>
      </div>
    </div>
    <div class="copyright">© 2025 HueFlow</div>

    <script src="data.js"></script>
    <script src="game.js"></script>
  </body>
</html>
